<!DOCTYPE html>
<html>
<head>
    <title> Not Kahoot </title>
</head>

<script src="/socket.io/socket.io.js"></script>

<body onload="createList()">
    
<script>
    function editQuiz(index){
        window.location.href = "createQuiz?quizID=" + index;
    }
    function deleteQuiz(index){
        //delete quiz from index
        console.log('deleting a quiz');
    }
    function startQuiz(index){
        window.location.href = "quizClient?quizID=" + index;
    }

    function createList() {
        //get quizzes from database
         var quizCount = 3;
        //set quizCount
        //quizCount = quiz.length()

        var quizList = document.createElement("TABLE");
        quizList.setAttribute("id","quizTable");
        document.body.appendChild(quizList);

        for(var i = 0; i < quizCount; i++){
            var row = document.createElement("TR");
            row.setAttribute("id","row" + i);
            document.getElementById("quizTable").appendChild(row);
        

            var cell = document.createElement("TD"); 
            //change to quiz.name here
            var quizName = document.createTextNode("quiz.name");
            cell.appendChild(quizName);
            var butt1 = document.createElement("BUTTON");
            //need to add link in button
            butt1.setAttribute("onclick", editQuiz);
            butt1.onclick = function(){editQuiz(i)};
            butt1.innerHTML = 'edit';
            var butt2 = document.createElement("BUTTON");
            //need to add link in button
            butt2.setAttribute("onclick", deleteQuiz);
            butt2.onclick = function(){deleteQuiz(i)};
            butt2.innerHTML = 'delete';
            var butt3 = document.createElement("BUTTON");
            //need to add link in button
            butt3.setAttribute("onclick", startQuiz);
            butt3.onclick = function(){startQuiz(i)};
            butt3.innerHTML = 'start';

            document.getElementById("row" + i).append(cell);
            document.getElementById("row" + i).append(butt1);
            document.getElementById("row" + i).append(butt2);
            document.getElementById("row" + i).append(butt3);
        }    
    }
</script>
    <a href="createQuiz" class="btn">Create new</a>
</body>

</html>
