<!DOCTYPE html>
<html>
<head>
<title> Not KaHoot  </title>
</head>
<script src="/socket.io/socket.io.js"></script>

<body>
    <h2 id="quiz-name">Quiz name not set</h2>
    <h1 id="question-text"></h1>
    <div id="answeres" > 
        <button>Name</button> <input type="text" name="user-name">
       
    </div>


</body>
<script>


    //Gathering the quiz ID out of the url. 
    let url = new URL(document.URL);
    quizId=new URL(document.URL).searchParams.get("quizId");
    console.log(quizId);

    var socket = io();

    function setQuizTitle(title){
        var quizNameEl = document.getElementById("quiz-name");
        quizNameEl.textContent = title;
    };

    function setQuestionText(title){
        var questionNameEl = document.getElementById("question-text");
        questionNameEl.textContent = title;
    };

    function setAnswers(answers){

        var answeresDiv = document.getElementById("answeres");
        answeresDiv.innerHTML = "";
        for (x in answers){
            var answer = document.createElement("h3");
            answer.setAttribute("id","answer"+x);
            answer.textContent = answers[x].text;
            answeresDiv.appendChild(answer);
        }
    };


    function startQuiz(){

    }

    //need: quizName, quizQuestion, quizAnswers
    /*This is for recieving quiz information*/
    socket.on('quiz-client',function(QuizCreate){
        console.log(QuizCreate);
        setQuizTitle(QuizCreate.name);
        setQuestionText(QuizCreate.question.text);
        setAnswers(QuizCreate.question.answers);

      });

    socket.on("quiz-lobby-name", function(name){

    });
    
    // -------On Server-----------------  
    //   io.emit('quiz-client',{
    //     name : QuizCreate.name,
    //     question : QuizCreate.questions[0]
    // }); 
    // This should be sent to a specific client.
    // QuizCreate is a complete quiz object. 



    // socket.emit('start-quiz',quizId);



</script>
</html>
